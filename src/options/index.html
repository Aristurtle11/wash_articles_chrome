<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>Wash Articles 配置</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 24px auto;
        max-width: 640px;
        color: #1f2933;
      }
      h1 {
        color: #1a73e8;
        font-size: 24px;
        margin-bottom: 12px;
      }
      h2 {
        margin: 24px 0 8px;
        font-size: 18px;
        color: #0f172a;
      }
      p.note {
        font-size: 13px;
        color: #475569;
      }
      form {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-top: 16px;
      }
      label {
        font-weight: 600;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      input, textarea {
        padding: 10px;
        border-radius: 6px;
        border: 1px solid #cbd5f5;
        font-size: 14px;
      }
      input:focus, textarea:focus {
        border-color: #1a73e8;
        outline: none;
        box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.18);
      }
      .actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      button {
        padding: 10px 16px;
        border-radius: 6px;
        border: none;
        background: #1a73e8;
        color: #fff;
        font-size: 14px;
        cursor: pointer;
      }
      button.secondary {
        background: #e2e8f0;
        color: #1f2933;
      }
      .status {
        font-size: 13px;
        color: #15803d;
      }
      .error {
        color: #dc2626;
      }
      .section {
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 18px;
        background: #ffffff;
      }
      .section + .section {
        margin-top: 24px;
      }
    </style>
  </head>
  <body>
    <h1>Wash Articles 设置</h1>
    <div class="section">
      <h2>Gemini 翻译服务</h2>
      <p class="note">
        配置 Gemini API Key 后，扩展会通过 Gemini 模型完成正文翻译与标题生成。
        API Key 将安全保存在浏览器的同步存储中。
      </p>
      <form id="gemini-form">
        <label>
          API Key
          <input id="geminiApiKey" type="password" placeholder="例如 AIza..." autocomplete="off" />
        </label>
        <div class="actions">
          <button type="button" id="gemini-save">保存 Gemini 配置</button>
          <button type="button" id="gemini-clear" class="secondary">清除 Gemini 配置</button>
          <span id="gemini-status" class="status"></span>
        </div>
      </form>
    </div>
    <div class="section">
      <h2>微信公众号</h2>
      <p class="note">
        输入公众号的 AppID 与 AppSecret 后，扩展会自动申请 Access Token 并在过期前刷新。
        可选地设定默认作者、阅读原文链接和封面 <code>thumb_media_id</code>。
      </p>
      <form id="wechat-form">
        <label>
          AppID
          <input id="wechatAppId" type="text" placeholder="wx..." autocomplete="off" />
        </label>
        <label>
          AppSecret
          <input id="wechatAppSecret" type="password" placeholder="公众号 AppSecret" autocomplete="off" />
        </label>
        <label>
          默认作者
          <input id="wechatDefaultAuthor" type="text" placeholder="作者名称，可留空" />
        </label>
        <label>
          阅读原文链接
          <input id="wechatOriginUrl" type="url" placeholder="https://example.com/original" />
        </label>
        <label>
          默认 thumb_media_id
          <input id="wechatThumbMediaId" type="text" placeholder="可选，公众号素材库中的封面 media_id" />
        </label>
        <div class="actions">
          <button type="button" id="wechat-save">保存公众号配置</button>
          <button type="button" id="wechat-clear" class="secondary">清除公众号配置</button>
          <span id="wechat-status" class="status"></span>
        </div>
      </form>
    </div>

    <script type="module" src="./options.js"></script>
  </body>
</html>
